source('F:/votes/votes.r')
others
x[1:3,]
x=read.delim2("expc.txt",stringsAsFactors = F) # c=7 , b =6
x[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x=TRUE)[1:3,]
merge(x,cityPoll,by.x=c("cityID","PollingStationID"),by.y=c("cityID","PollingStationID"),all.x=TRUE)[1:3,]
colnames(x)[2:3]=c("cityID","PollingStationID");
merge(x,cityPoll,by.x=c("cityID","PollingStationID"),by.y=c("cityID","PollingStationID"),all.x=TRUE)[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x=TRUE)[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x=FALSE)[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.y =FALSE)[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.y =TRUE)[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x =TRUE)[1:3,]
dim(merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x =TRUE))
dim(x)
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x =TRUE)[1:3,]
merge(x,cityPoll,by=c("cityID","PollingStationID"),all.x =TRUE,sort = F)[1:3,]
source('F:/votes/votes.r')
i=weird[4]
others=xx[which(x$PollingStationName==x$PollingStationName[i]),];
dim(others)
x[i,]
x$PollingStationName[i]
which(x$PollingStationName==x$PollingStationName[i] && x$cityID==x$cityID[i])
which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i])
x[5962,]
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
for (i in (weird)){
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i]),];
if (!is.null(nrow(others)) && nrow(others)>1){
othersMean=colMeans(others);
}else{
othersMean=others
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 1],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 1],x[i, 3],sep="-"))
}
dev.off();
colnames(x)[3]
colnames(x)[1]
colnames(x)[2]
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
for (i in (weird)){
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i]),];
othersMean=colMeans(others);
if (!is.null(nrow(others)) && nrow(others)>1){
}else{
othersMean=others
}
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
}
dev.off();
source('F:/votes/votes.r')
x[1,]
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
for (i in (weird)){
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
if (!is.null(nrow(others)) && nrow(others)>1){
othersMean=colMeans(others);
}else{
othersMean=others
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
}
others
nrow(others)
others[]=0
others
others[,]=0
others
others[1,]
others[1]
others[is.na(others)]=0
others
others[1]
others[1]=0
others[1]
is.na(others)
which(is.na(others))
others==NA
sum(others)
others
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
sum(others)
others
length(others)
dim(others)
dim(others)[2]
ncol(others)
rep(0,ncol(others))
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
for (i in (weird)){
if (!is.null(nrow(others)) && nrow(others)>1){
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
}else{
othersMean=colMeans(others);
if (sum(others)==0){
othersMean=others;
othersMean=rep(0,ncol(others))
}
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
}
others
ncol(others)
sum(others)
(sum(others)==0)
othersMean
dev.off()
dev.off()
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
ncol(xx)
othersMean
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
for (i in (weird)){
if (!is.null(nrow(others)) && nrow(others)>1){
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
othersMean=colMeans(others);
}else{
othersMean=others;
if (sum(others)==0){
othersMean=xx[i,];
}
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
}
dev.off();
i=weird[5]
xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i],];
xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i]),];
x[i,]
which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i])
which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i])
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
others
x[10039,]
x$`ודעם`[10039]
others$`ודעם`
others$`ודעם`[1]
others
!is.null(nrow(others)) && nrow(others)>1
sum(others)
(sum(others)==0)
dev.off()
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
for (i in (weird)){
if (!is.null(nrow(others)) && nrow(others)>1){
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
othersMean=colMeans(others);
othersMean=others;
}else{
if (sum(others)==0){
}
othersMean=xx[i,];
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
}
dev.off();
i=weird[5]
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
if (!is.null(nrow(others)) && nrow(others)>1){
othersMean=colMeans(others);
}else{
othersMean=others;
if (sum(others)==0){
othersMean=xx[i,];
}
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
dev.off()
dev.off()
png(filename = "weird.png",width = 2500,height = 2500)
par(mfrow=c(cenNum/2,4))
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
for (i in (weird)){
if (!is.null(nrow(others)) && nrow(others)>1){
othersMean=others;
}else{
othersMean=colMeans(others);
if (sum(others)==0){
}
othersMean=xx[i,];
}
pie(othersMean,col=(rainbow(ncol(xx))),main=paste(x[i, 2],"Others",nrow(others),sep="-"))
pie(xx[i,],col=(rainbow(ncol(xx))),main=paste(x[i, 2],x[i, 3],sep="-"))
}
others
(!is.null(nrow(others)) && nrow(others)>1)
i
weird
others=xx[which(x$PollingStationName==x$PollingStationName[i] & x$cityID==x$cityID[i] & x$PollingStationID!=x$PollingStationID[i]),];
if (!is.null(nrow(others)) && nrow(others)>1){
othersMean=colMeans(others);
}else{
othersMean=others;
if (sum(others)==0){
othersMean=xx[i,];
}
}
source('F:/votes/votes.r')
dev.off()
source('F:/votes/votes.r')
rownames(x)[1:3]
colnames(x)[1:3]
colnames(x)
length(colnames(x))
source('F:/votes/votes.r')
source('F:/votes/votes.r')
